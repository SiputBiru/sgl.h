/*
	sgl.h - Simple GPU Library for SDL3
	Implements "Vertex Pulling" and "Big Buffer" rendering.
*/

#ifndef SGL_H
#define SGL_H

#include <SDL3/SDL.h>
#include <SDL3/SDL_log.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>

typedef float f32;
#define SGL_MAX_INSTANCES 10000

typedef struct {
	uint8_t r, g, b, a;
} SGL_COLOR;

typedef struct {
	f32 x, y;
} Vec2;

typedef struct {
	f32 x, y, w, h;
} Rectangle;

typedef struct {
	f32 x, y;
	f32 zoom;
} SGL_Camera;

// -- API --
void sgl_InitWindow(int w, int h, const char* title);
void sgl_Shutdown(void);

// input control
bool sgl_WindowShouldClose(void);
bool sgl_IsKeyDown(SDL_Scancode key);

// Custom Shader API
SDL_GPUShader*
sgl_LoadShader(const char* filename, SDL_GPUShaderStage stage, int num_uniform, int num_storage);
SDL_GPUGraphicsPipeline* sgl_CreatePipeline(SDL_GPUShader* vert, SDL_GPUShader* frag);

// Pipeline Control
void sgl_SetPipeline(SDL_GPUGraphicsPipeline* pipeline);
SDL_GPUGraphicsPipeline* sgl_GetDefaultPipeline(void);

// Drawing
void sgl_Begin(void);
void sgl_End(void);

// Draw Shapes
void sgl_DrawRectangle(f32 x, f32 y, f32 w, f32 h, SGL_COLOR color);
void sgl_DrawRectanglePro(
	Rectangle rec,
	Vec2 origin,
	float rotation,
	SGL_COLOR color
); // Draw a color-filled rectangle with pro parameters
void sgl_DrawTriangle(f32 x, f32 y, f32 size, SGL_COLOR color);
void sgl_DrawCircle(f32 x, f32 y, f32 radius, SGL_COLOR color);

// Pipeline/Shader Control
SDL_GPUShader*
sgl_LoadShader(const char* filename, SDL_GPUShaderStage stage, int num_uniform, int num_storage);
SDL_GPUGraphicsPipeline* sgl_CreatePipeline(SDL_GPUShader* vert, SDL_GPUShader* frag);
void sgl_SetPipeline(SDL_GPUGraphicsPipeline* pipeline);
SDL_GPUGraphicsPipeline* sgl_GetDefaultPipeline(void);

// Camera
void sgl_SetCamera(SGL_Camera* camera);
void sgl_CameraInit(SGL_Camera* cam, f32 x, f32 y, f32 zoom);
void sgl_CameraUpdate(SGL_Camera* cam);

#endif // SGL_H

// ============================================================================
// IMPLEMENTATION
// ============================================================================

#ifdef SGL_IMPLEMENTATION

// For logs things

#define SGL_LOG_CATEGORY SDL_LOG_CATEGORY_CUSTOM

#define SGL_Log(fmt, ...)                                                                          \
	SDL_LogMessage(SGL_LOG_CATEGORY, SDL_LOG_PRIORITY_INFO, fmt, ##__VA_ARGS__)

#define SGL_Warn(fmt, ...)                                                                         \
	SDL_LogMessage(SGL_LOG_CATEGORY, SDL_LOG_PRIORITY_WARN, fmt, ##__VA_ARGS__)

#define SGL_Error(fmt, ...)                                                                        \
	SDL_LogMessage(SGL_LOG_CATEGORY, SDL_LOG_PRIORITY_ERROR, fmt, ##__VA_ARGS__)

typedef enum {
	SGL_SHAPE_RECT = 0,
	SGL_SHAPE_TRIG = 1,
	SGL_SHAPE_CIRCLE = 2,
} SGL_ShapeType;

typedef struct {
	f32 x, y, w, h;
	f32 angle, ox, oy, z;
	f32 type, p1, p2, p3;
	f32 r, g, b, a;
} SGL_InstanceData;

static struct {
	SDL_GPUDevice* device;
	SDL_Window* window;
	SDL_GPUGraphicsPipeline* defaultPipeline;
	SDL_GPUGraphicsPipeline* activePipeline;
	SDL_GPUBuffer* instanceBuffer;
	SDL_GPUTransferBuffer* transferBuffer;
	SGL_InstanceData* mappedPtr;
	Uint32 instanceCount;
	SDL_GPUCommandBuffer* curCmd;
	int winW, winH;
	SGL_Camera camera;
	SDL_GPUTexture* depthTexture;
	bool shouldClose;
	const bool* keyboardState;
} sgl;

// Window Loop
bool sgl_WindowShouldClose() {
	if (sgl.shouldClose) {
		return true;
	}

	SDL_Event e;
	while (SDL_PollEvent(&e)) {
		if (e.type == SDL_EVENT_QUIT) {
			sgl.shouldClose = true;
		} else if (e.type == SDL_EVENT_KEY_DOWN) {
			if (e.key.key == SDLK_ESCAPE) {
				sgl.shouldClose = true;
			}
		}
	}

	sgl.keyboardState = SDL_GetKeyboardState(NULL);
	return sgl.shouldClose;
}

// Input Check
bool sgl_IsKeyDown(SDL_Scancode key) {
	if (!sgl.keyboardState)
		return false;
	return sgl.keyboardState[key];
}

// Embedded/Default Shader
// vulkan only works with SPIR-V/spv file that was bit/compiled file so we
// create this byte with xxd

// Vertex Shader
const static uint8_t shaders_default_vert_spv[] = {
	0x03, 0x02, 0x23, 0x07, 0x00, 0x00, 0x01, 0x00, 0x0b, 0x00, 0x0d, 0x00, 0xd2, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x11, 0x00, 0x02, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x06, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x47, 0x4c, 0x53, 0x4c, 0x2e, 0x73, 0x74, 0x64, 0x2e, 0x34, 0x35, 0x30,
	0x00, 0x00, 0x00, 0x00, 0x0e, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x0f, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x6d, 0x61, 0x69, 0x6e,
	0x00, 0x00, 0x00, 0x00, 0x13, 0x00, 0x00, 0x00, 0x2e, 0x00, 0x00, 0x00, 0x71, 0x00, 0x00, 0x00,
	0x74, 0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00, 0xbe, 0x00, 0x00, 0x00, 0x03, 0x00, 0x03, 0x00,
	0x02, 0x00, 0x00, 0x00, 0xc2, 0x01, 0x00, 0x00, 0x04, 0x00, 0x0a, 0x00, 0x47, 0x4c, 0x5f, 0x47,
	0x4f, 0x4f, 0x47, 0x4c, 0x45, 0x5f, 0x63, 0x70, 0x70, 0x5f, 0x73, 0x74, 0x79, 0x6c, 0x65, 0x5f,
	0x6c, 0x69, 0x6e, 0x65, 0x5f, 0x64, 0x69, 0x72, 0x65, 0x63, 0x74, 0x69, 0x76, 0x65, 0x00, 0x00,
	0x04, 0x00, 0x08, 0x00, 0x47, 0x4c, 0x5f, 0x47, 0x4f, 0x4f, 0x47, 0x4c, 0x45, 0x5f, 0x69, 0x6e,
	0x63, 0x6c, 0x75, 0x64, 0x65, 0x5f, 0x64, 0x69, 0x72, 0x65, 0x63, 0x74, 0x69, 0x76, 0x65, 0x00,
	0x05, 0x00, 0x04, 0x00, 0x04, 0x00, 0x00, 0x00, 0x6d, 0x61, 0x69, 0x6e, 0x00, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x06, 0x00, 0x08, 0x00, 0x00, 0x00, 0x49, 0x6e, 0x73, 0x74, 0x61, 0x6e, 0x63, 0x65,
	0x44, 0x61, 0x74, 0x61, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00, 0x08, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x72, 0x65, 0x63, 0x74, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00,
	0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x70, 0x61, 0x72, 0x61, 0x6d, 0x73, 0x00, 0x00,
	0x06, 0x00, 0x05, 0x00, 0x08, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x70, 0x61, 0x72, 0x61,
	0x6d, 0x73, 0x32, 0x00, 0x06, 0x00, 0x05, 0x00, 0x08, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0x63, 0x6f, 0x6c, 0x6f, 0x72, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00, 0x0a, 0x00, 0x00, 0x00,
	0x69, 0x6e, 0x73, 0x74, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x06, 0x00, 0x0b, 0x00, 0x00, 0x00,
	0x49, 0x6e, 0x73, 0x74, 0x61, 0x6e, 0x63, 0x65, 0x44, 0x61, 0x74, 0x61, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x72, 0x65, 0x63, 0x74,
	0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x70, 0x61, 0x72, 0x61, 0x6d, 0x73, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x70, 0x61, 0x72, 0x61, 0x6d, 0x73, 0x32, 0x00, 0x06, 0x00, 0x05, 0x00,
	0x0b, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x63, 0x6f, 0x6c, 0x6f, 0x72, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x05, 0x00, 0x0d, 0x00, 0x00, 0x00, 0x49, 0x6e, 0x73, 0x74, 0x61, 0x6e, 0x63, 0x65,
	0x73, 0x00, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x64, 0x61, 0x74, 0x61, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x05, 0x00, 0x0f, 0x00, 0x00, 0x00,
	0x69, 0x6e, 0x73, 0x74, 0x61, 0x6e, 0x63, 0x65, 0x73, 0x00, 0x00, 0x00, 0x05, 0x00, 0x07, 0x00,
	0x13, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x49, 0x6e, 0x73, 0x74, 0x61, 0x6e, 0x63, 0x65, 0x49,
	0x6e, 0x64, 0x65, 0x78, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00, 0x25, 0x00, 0x00, 0x00,
	0x74, 0x79, 0x70, 0x65, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x03, 0x00, 0x2d, 0x00, 0x00, 0x00,
	0x69, 0x64, 0x78, 0x00, 0x05, 0x00, 0x06, 0x00, 0x2e, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x56,
	0x65, 0x72, 0x74, 0x65, 0x78, 0x49, 0x6e, 0x64, 0x65, 0x78, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00,
	0x3e, 0x00, 0x00, 0x00, 0x63, 0x6f, 0x72, 0x6e, 0x65, 0x72, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00,
	0x71, 0x00, 0x00, 0x00, 0x6f, 0x75, 0x74, 0x55, 0x56, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00,
	0x74, 0x00, 0x00, 0x00, 0x6f, 0x75, 0x74, 0x54, 0x79, 0x70, 0x65, 0x00, 0x05, 0x00, 0x05, 0x00,
	0x78, 0x00, 0x00, 0x00, 0x6f, 0x75, 0x74, 0x43, 0x6f, 0x6c, 0x6f, 0x72, 0x00, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x05, 0x00, 0x7b, 0x00, 0x00, 0x00, 0x6c, 0x6f, 0x63, 0x61, 0x6c, 0x50, 0x6f, 0x73,
	0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00, 0x86, 0x00, 0x00, 0x00, 0x74, 0x68, 0x65, 0x74,
	0x61, 0x00, 0x00, 0x00, 0x05, 0x00, 0x03, 0x00, 0x89, 0x00, 0x00, 0x00, 0x63, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x03, 0x00, 0x8c, 0x00, 0x00, 0x00, 0x73, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00,
	0x8f, 0x00, 0x00, 0x00, 0x72, 0x6f, 0x74, 0x61, 0x74, 0x65, 0x64, 0x00, 0x05, 0x00, 0x05, 0x00,
	0xa3, 0x00, 0x00, 0x00, 0x77, 0x6f, 0x72, 0x6c, 0x64, 0x50, 0x6f, 0x73, 0x00, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x05, 0x00, 0xa9, 0x00, 0x00, 0x00, 0x63, 0x61, 0x6d, 0x65, 0x72, 0x61, 0x50, 0x6f,
	0x73, 0x00, 0x00, 0x00, 0x05, 0x00, 0x06, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x53, 0x63, 0x72, 0x65,
	0x65, 0x6e, 0x55, 0x6e, 0x69, 0x66, 0x6f, 0x72, 0x6d, 0x73, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00,
	0xaa, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x73, 0x63, 0x72, 0x65, 0x65, 0x6e, 0x57, 0x00,
	0x06, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x73, 0x63, 0x72, 0x65,
	0x65, 0x6e, 0x48, 0x00, 0x06, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x63, 0x61, 0x6d, 0x58, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00,
	0x03, 0x00, 0x00, 0x00, 0x63, 0x61, 0x6d, 0x59, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x05, 0x00,
	0xaa, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x7a, 0x6f, 0x6f, 0x6d, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x70, 0x61, 0x64, 0x64,
	0x69, 0x6e, 0x67, 0x00, 0x05, 0x00, 0x03, 0x00, 0xac, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x04, 0x00, 0xb3, 0x00, 0x00, 0x00, 0x76, 0x69, 0x65, 0x77, 0x50, 0x6f, 0x73, 0x00,
	0x05, 0x00, 0x06, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x50, 0x65, 0x72, 0x56, 0x65,
	0x72, 0x74, 0x65, 0x78, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x06, 0x00, 0xbc, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x50, 0x6f, 0x73, 0x69, 0x74, 0x69, 0x6f, 0x6e, 0x00,
	0x06, 0x00, 0x07, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x50,
	0x6f, 0x69, 0x6e, 0x74, 0x53, 0x69, 0x7a, 0x65, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x07, 0x00,
	0xbc, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x43, 0x6c, 0x69, 0x70, 0x44,
	0x69, 0x73, 0x74, 0x61, 0x6e, 0x63, 0x65, 0x00, 0x06, 0x00, 0x07, 0x00, 0xbc, 0x00, 0x00, 0x00,
	0x03, 0x00, 0x00, 0x00, 0x67, 0x6c, 0x5f, 0x43, 0x75, 0x6c, 0x6c, 0x44, 0x69, 0x73, 0x74, 0x61,
	0x6e, 0x63, 0x65, 0x00, 0x05, 0x00, 0x03, 0x00, 0xbe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x48, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x23, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00,
	0x0b, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00,
	0x47, 0x00, 0x04, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00,
	0x47, 0x00, 0x03, 0x00, 0x0d, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x48, 0x00, 0x04, 0x00,
	0x0d, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00,
	0x0d, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x47, 0x00, 0x03, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x0f, 0x00, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x0f, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x13, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x2e, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x2a, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x71, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x74, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00,
	0x78, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x47, 0x00, 0x03, 0x00,
	0xaa, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00,
	0xaa, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00,
	0x48, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00,
	0x08, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0x23, 0x00, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0xaa, 0x00, 0x00, 0x00,
	0x04, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00,
	0xaa, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00,
	0x47, 0x00, 0x04, 0x00, 0xac, 0x00, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x47, 0x00, 0x04, 0x00, 0xac, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x47, 0x00, 0x03, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00,
	0xbc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x48, 0x00, 0x05, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x0b, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x48, 0x00, 0x05, 0x00, 0xbc, 0x00, 0x00, 0x00,
	0x03, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x13, 0x00, 0x02, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x21, 0x00, 0x03, 0x00, 0x03, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x16, 0x00, 0x03, 0x00, 0x06, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x17, 0x00, 0x04, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x06, 0x00,
	0x08, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x09, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x08, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x06, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x1d, 0x00, 0x03, 0x00,
	0x0c, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x03, 0x00, 0x0d, 0x00, 0x00, 0x00,
	0x0c, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x0d, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x15, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x12, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x10, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x12, 0x00, 0x00, 0x00, 0x13, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x15, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x0b, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x19, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00,
	0x03, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x24, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x10, 0x00, 0x00, 0x00, 0x15, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x28, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x2c, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x26, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x12, 0x00, 0x00, 0x00, 0x2e, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x14, 0x00, 0x02, 0x00, 0x34, 0x00, 0x00, 0x00, 0x17, 0x00, 0x04, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00,
	0x3d, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x2b, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x2c, 0x00, 0x05, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0x41, 0x00, 0x00, 0x00, 0x3f, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00,
	0x2b, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x44, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x2b, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x3f,
	0x2c, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x49, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00,
	0x48, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x4c, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x2c, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x50, 0x00, 0x00, 0x00,
	0x48, 0x00, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00, 0x2c, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00,
	0x52, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x2c, 0x00, 0x05, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0x62, 0x00, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00,
	0x2b, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x65, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0x2b, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x6b, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x04, 0x00, 0x70, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00,
	0x3b, 0x00, 0x04, 0x00, 0x70, 0x00, 0x00, 0x00, 0x71, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x04, 0x00, 0x73, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x3b, 0x00, 0x04, 0x00, 0x73, 0x00, 0x00, 0x00, 0x74, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x04, 0x00, 0x77, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x3b, 0x00, 0x04, 0x00, 0x77, 0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0x1e, 0x00, 0x08, 0x00, 0xaa, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x04, 0x00, 0xab, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x00, 0x00,
	0x3b, 0x00, 0x04, 0x00, 0xab, 0x00, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x04, 0x00, 0xad, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x2b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0xb7, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00,
	0x1c, 0x00, 0x04, 0x00, 0xbb, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x44, 0x00, 0x00, 0x00,
	0x1e, 0x00, 0x06, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00,
	0xbb, 0x00, 0x00, 0x00, 0xbb, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0xbd, 0x00, 0x00, 0x00,
	0x03, 0x00, 0x00, 0x00, 0xbc, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0xbd, 0x00, 0x00, 0x00,
	0xbe, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00,
	0xc4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x36, 0x00, 0x05, 0x00, 0x02, 0x00, 0x00, 0x00,
	0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x05, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x09, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x24, 0x00, 0x00, 0x00, 0x25, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x2c, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x3d, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x3d, 0x00, 0x00, 0x00, 0x7b, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x28, 0x00, 0x00, 0x00, 0x86, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x28, 0x00, 0x00, 0x00, 0x89, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x28, 0x00, 0x00, 0x00, 0x8c, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x3d, 0x00, 0x00, 0x00, 0x8f, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x3d, 0x00, 0x00, 0x00, 0xa3, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x3d, 0x00, 0x00, 0x00, 0xa9, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x3d, 0x00, 0x00, 0x00, 0xb3, 0x00, 0x00, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00,
	0x13, 0x00, 0x00, 0x00, 0x41, 0x00, 0x06, 0x00, 0x15, 0x00, 0x00, 0x00, 0x16, 0x00, 0x00, 0x00,
	0x0f, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x0b, 0x00, 0x00, 0x00, 0x17, 0x00, 0x00, 0x00, 0x16, 0x00, 0x00, 0x00, 0x51, 0x00, 0x05, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x17, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x41, 0x00, 0x05, 0x00, 0x19, 0x00, 0x00, 0x00, 0x1a, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00,
	0x11, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x1a, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00,
	0x51, 0x00, 0x05, 0x00, 0x07, 0x00, 0x00, 0x00, 0x1b, 0x00, 0x00, 0x00, 0x17, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x19, 0x00, 0x00, 0x00, 0x1d, 0x00, 0x00, 0x00,
	0x0a, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x1d, 0x00, 0x00, 0x00,
	0x1b, 0x00, 0x00, 0x00, 0x51, 0x00, 0x05, 0x00, 0x07, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00,
	0x17, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x19, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0x20, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x51, 0x00, 0x05, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x21, 0x00, 0x00, 0x00, 0x17, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00,
	0x19, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x23, 0x00, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x41, 0x00, 0x06, 0x00,
	0x28, 0x00, 0x00, 0x00, 0x29, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00,
	0x27, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x2a, 0x00, 0x00, 0x00,
	0x29, 0x00, 0x00, 0x00, 0x6e, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x00, 0x00,
	0x2a, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x25, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00, 0x00, 0x2e, 0x00, 0x00, 0x00,
	0x8b, 0x00, 0x05, 0x00, 0x10, 0x00, 0x00, 0x00, 0x31, 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00, 0x00,
	0x30, 0x00, 0x00, 0x00, 0x7c, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x32, 0x00, 0x00, 0x00,
	0x31, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x2d, 0x00, 0x00, 0x00, 0x32, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00, 0x33, 0x00, 0x00, 0x00, 0x25, 0x00, 0x00, 0x00,
	0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00, 0x35, 0x00, 0x00, 0x00, 0x33, 0x00, 0x00, 0x00,
	0x1c, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00, 0x37, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xfa, 0x00, 0x04, 0x00, 0x35, 0x00, 0x00, 0x00, 0x36, 0x00, 0x00, 0x00, 0x53, 0x00, 0x00, 0x00,
	0xf8, 0x00, 0x02, 0x00, 0x36, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00,
	0x38, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00,
	0x39, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00,
	0x3b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00, 0x39, 0x00, 0x00, 0x00,
	0x3a, 0x00, 0x00, 0x00, 0x42, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x3a, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x41, 0x00, 0x00, 0x00, 0xf9, 0x00, 0x02, 0x00,
	0x3b, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x42, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x26, 0x00, 0x00, 0x00, 0x43, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x05, 0x00,
	0x34, 0x00, 0x00, 0x00, 0x45, 0x00, 0x00, 0x00, 0x43, 0x00, 0x00, 0x00, 0x44, 0x00, 0x00, 0x00,
	0xf7, 0x00, 0x03, 0x00, 0x47, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00,
	0x45, 0x00, 0x00, 0x00, 0x46, 0x00, 0x00, 0x00, 0x4a, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x46, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x49, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x47, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x4a, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x4b, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00,
	0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00, 0x4d, 0x00, 0x00, 0x00, 0x4b, 0x00, 0x00, 0x00,
	0x4c, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00, 0x4f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xfa, 0x00, 0x04, 0x00, 0x4d, 0x00, 0x00, 0x00, 0x4e, 0x00, 0x00, 0x00, 0x51, 0x00, 0x00, 0x00,
	0xf8, 0x00, 0x02, 0x00, 0x4e, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00,
	0x50, 0x00, 0x00, 0x00, 0xf9, 0x00, 0x02, 0x00, 0x4f, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x51, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x52, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x4f, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x4f, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x47, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x47, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x3b, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x3b, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x37, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x53, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x54, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00,
	0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00, 0x55, 0x00, 0x00, 0x00, 0x54, 0x00, 0x00, 0x00,
	0x27, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xfa, 0x00, 0x04, 0x00, 0x55, 0x00, 0x00, 0x00, 0x56, 0x00, 0x00, 0x00, 0x58, 0x00, 0x00, 0x00,
	0xf8, 0x00, 0x02, 0x00, 0x56, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00,
	0x52, 0x00, 0x00, 0x00, 0xf9, 0x00, 0x02, 0x00, 0x57, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x58, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x59, 0x00, 0x00, 0x00,
	0x2d, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00, 0x5a, 0x00, 0x00, 0x00,
	0x59, 0x00, 0x00, 0x00, 0x44, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00, 0x5c, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00, 0x5a, 0x00, 0x00, 0x00, 0x5b, 0x00, 0x00, 0x00,
	0x5d, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x5b, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0x3e, 0x00, 0x00, 0x00, 0x49, 0x00, 0x00, 0x00, 0xf9, 0x00, 0x02, 0x00, 0x5c, 0x00, 0x00, 0x00,
	0xf8, 0x00, 0x02, 0x00, 0x5d, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00,
	0x5e, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00,
	0x5f, 0x00, 0x00, 0x00, 0x5e, 0x00, 0x00, 0x00, 0x4c, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00,
	0x61, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00, 0x5f, 0x00, 0x00, 0x00,
	0x60, 0x00, 0x00, 0x00, 0x63, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x60, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x62, 0x00, 0x00, 0x00, 0xf9, 0x00, 0x02, 0x00,
	0x61, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x63, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x26, 0x00, 0x00, 0x00, 0x64, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00, 0xaa, 0x00, 0x05, 0x00,
	0x34, 0x00, 0x00, 0x00, 0x66, 0x00, 0x00, 0x00, 0x64, 0x00, 0x00, 0x00, 0x65, 0x00, 0x00, 0x00,
	0xf7, 0x00, 0x03, 0x00, 0x68, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00,
	0x66, 0x00, 0x00, 0x00, 0x67, 0x00, 0x00, 0x00, 0x69, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x67, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x62, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x68, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x69, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x26, 0x00, 0x00, 0x00, 0x6a, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00,
	0xaa, 0x00, 0x05, 0x00, 0x34, 0x00, 0x00, 0x00, 0x6c, 0x00, 0x00, 0x00, 0x6a, 0x00, 0x00, 0x00,
	0x6b, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00, 0x6e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xfa, 0x00, 0x04, 0x00, 0x6c, 0x00, 0x00, 0x00, 0x6d, 0x00, 0x00, 0x00, 0x6f, 0x00, 0x00, 0x00,
	0xf8, 0x00, 0x02, 0x00, 0x6d, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00,
	0x49, 0x00, 0x00, 0x00, 0xf9, 0x00, 0x02, 0x00, 0x6e, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x6f, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x50, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x6e, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x6e, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x68, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x68, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x61, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x61, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x5c, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x5c, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x57, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x57, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x37, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x37, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x72, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x71, 0x00, 0x00, 0x00, 0x72, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x10, 0x00, 0x00, 0x00, 0x75, 0x00, 0x00, 0x00, 0x25, 0x00, 0x00, 0x00, 0x6f, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x75, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0x74, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x19, 0x00, 0x00, 0x00,
	0x79, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x7a, 0x00, 0x00, 0x00, 0x79, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0x78, 0x00, 0x00, 0x00, 0x7a, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x3c, 0x00, 0x00, 0x00,
	0x7c, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x19, 0x00, 0x00, 0x00,
	0x7d, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00, 0x7d, 0x00, 0x00, 0x00, 0x4f, 0x00, 0x07, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x85, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00,
	0x80, 0x00, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0x7b, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x19, 0x00, 0x00, 0x00,
	0x81, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x07, 0x00, 0x00, 0x00, 0x82, 0x00, 0x00, 0x00, 0x81, 0x00, 0x00, 0x00, 0x4f, 0x00, 0x07, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0x83, 0x00, 0x00, 0x00, 0x82, 0x00, 0x00, 0x00, 0x82, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x3c, 0x00, 0x00, 0x00,
	0x84, 0x00, 0x00, 0x00, 0x7b, 0x00, 0x00, 0x00, 0x83, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00,
	0x85, 0x00, 0x00, 0x00, 0x84, 0x00, 0x00, 0x00, 0x83, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0x7b, 0x00, 0x00, 0x00, 0x85, 0x00, 0x00, 0x00, 0x41, 0x00, 0x06, 0x00, 0x28, 0x00, 0x00, 0x00,
	0x87, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x87, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x86, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x8a, 0x00, 0x00, 0x00, 0x86, 0x00, 0x00, 0x00, 0x0c, 0x00, 0x06, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x8b, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0e, 0x00, 0x00, 0x00,
	0x8a, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x89, 0x00, 0x00, 0x00, 0x8b, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x8d, 0x00, 0x00, 0x00, 0x86, 0x00, 0x00, 0x00,
	0x0c, 0x00, 0x06, 0x00, 0x06, 0x00, 0x00, 0x00, 0x8e, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x0d, 0x00, 0x00, 0x00, 0x8d, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x8c, 0x00, 0x00, 0x00,
	0x8e, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x28, 0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0x00,
	0x7b, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x91, 0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x92, 0x00, 0x00, 0x00, 0x89, 0x00, 0x00, 0x00, 0x85, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x93, 0x00, 0x00, 0x00, 0x91, 0x00, 0x00, 0x00, 0x92, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00,
	0x28, 0x00, 0x00, 0x00, 0x94, 0x00, 0x00, 0x00, 0x7b, 0x00, 0x00, 0x00, 0x44, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x95, 0x00, 0x00, 0x00, 0x94, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x96, 0x00, 0x00, 0x00, 0x8c, 0x00, 0x00, 0x00,
	0x85, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00, 0x97, 0x00, 0x00, 0x00, 0x95, 0x00, 0x00, 0x00,
	0x96, 0x00, 0x00, 0x00, 0x83, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00, 0x98, 0x00, 0x00, 0x00,
	0x93, 0x00, 0x00, 0x00, 0x97, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x28, 0x00, 0x00, 0x00,
	0x99, 0x00, 0x00, 0x00, 0x7b, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x9a, 0x00, 0x00, 0x00, 0x99, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x9b, 0x00, 0x00, 0x00, 0x8c, 0x00, 0x00, 0x00, 0x85, 0x00, 0x05, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x9c, 0x00, 0x00, 0x00, 0x9a, 0x00, 0x00, 0x00, 0x9b, 0x00, 0x00, 0x00,
	0x41, 0x00, 0x05, 0x00, 0x28, 0x00, 0x00, 0x00, 0x9d, 0x00, 0x00, 0x00, 0x7b, 0x00, 0x00, 0x00,
	0x44, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x9e, 0x00, 0x00, 0x00,
	0x9d, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x9f, 0x00, 0x00, 0x00,
	0x89, 0x00, 0x00, 0x00, 0x85, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00, 0xa0, 0x00, 0x00, 0x00,
	0x9e, 0x00, 0x00, 0x00, 0x9f, 0x00, 0x00, 0x00, 0x81, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00,
	0xa1, 0x00, 0x00, 0x00, 0x9c, 0x00, 0x00, 0x00, 0xa0, 0x00, 0x00, 0x00, 0x50, 0x00, 0x05, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0xa2, 0x00, 0x00, 0x00, 0x98, 0x00, 0x00, 0x00, 0xa1, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x8f, 0x00, 0x00, 0x00, 0xa2, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00,
	0x19, 0x00, 0x00, 0x00, 0xa4, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x07, 0x00, 0x00, 0x00, 0xa5, 0x00, 0x00, 0x00, 0xa4, 0x00, 0x00, 0x00,
	0x4f, 0x00, 0x07, 0x00, 0x3c, 0x00, 0x00, 0x00, 0xa6, 0x00, 0x00, 0x00, 0xa5, 0x00, 0x00, 0x00,
	0xa5, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0xa7, 0x00, 0x00, 0x00, 0x8f, 0x00, 0x00, 0x00, 0x81, 0x00, 0x05, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0xa8, 0x00, 0x00, 0x00, 0xa6, 0x00, 0x00, 0x00, 0xa7, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0xa3, 0x00, 0x00, 0x00, 0xa8, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00,
	0xad, 0x00, 0x00, 0x00, 0xae, 0x00, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0xaf, 0x00, 0x00, 0x00, 0xae, 0x00, 0x00, 0x00,
	0x41, 0x00, 0x05, 0x00, 0xad, 0x00, 0x00, 0x00, 0xb0, 0x00, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0xb1, 0x00, 0x00, 0x00,
	0xb0, 0x00, 0x00, 0x00, 0x50, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00, 0xb2, 0x00, 0x00, 0x00,
	0xaf, 0x00, 0x00, 0x00, 0xb1, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0xa9, 0x00, 0x00, 0x00,
	0xb2, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x3c, 0x00, 0x00, 0x00, 0xb4, 0x00, 0x00, 0x00,
	0xa3, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x3c, 0x00, 0x00, 0x00, 0xb5, 0x00, 0x00, 0x00,
	0xa9, 0x00, 0x00, 0x00, 0x83, 0x00, 0x05, 0x00, 0x3c, 0x00, 0x00, 0x00, 0xb6, 0x00, 0x00, 0x00,
	0xb4, 0x00, 0x00, 0x00, 0xb5, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0xad, 0x00, 0x00, 0x00,
	0xb8, 0x00, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00, 0xb7, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0xb9, 0x00, 0x00, 0x00, 0xb8, 0x00, 0x00, 0x00, 0x8e, 0x00, 0x05, 0x00,
	0x3c, 0x00, 0x00, 0x00, 0xba, 0x00, 0x00, 0x00, 0xb6, 0x00, 0x00, 0x00, 0xb9, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0xb3, 0x00, 0x00, 0x00, 0xba, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00,
	0x28, 0x00, 0x00, 0x00, 0xbf, 0x00, 0x00, 0x00, 0xb3, 0x00, 0x00, 0x00, 0x27, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xbf, 0x00, 0x00, 0x00,
	0x41, 0x00, 0x05, 0x00, 0xad, 0x00, 0x00, 0x00, 0xc1, 0x00, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00,
	0x11, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0xc2, 0x00, 0x00, 0x00,
	0xc1, 0x00, 0x00, 0x00, 0x88, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00, 0xc3, 0x00, 0x00, 0x00,
	0xc0, 0x00, 0x00, 0x00, 0xc2, 0x00, 0x00, 0x00, 0x85, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00,
	0xc5, 0x00, 0x00, 0x00, 0xc3, 0x00, 0x00, 0x00, 0xc4, 0x00, 0x00, 0x00, 0x83, 0x00, 0x05, 0x00,
	0x06, 0x00, 0x00, 0x00, 0xc6, 0x00, 0x00, 0x00, 0xc5, 0x00, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00,
	0x41, 0x00, 0x05, 0x00, 0x28, 0x00, 0x00, 0x00, 0xc7, 0x00, 0x00, 0x00, 0xb3, 0x00, 0x00, 0x00,
	0x44, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0xc8, 0x00, 0x00, 0x00,
	0xc7, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0xad, 0x00, 0x00, 0x00, 0xc9, 0x00, 0x00, 0x00,
	0xac, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00,
	0xca, 0x00, 0x00, 0x00, 0xc9, 0x00, 0x00, 0x00, 0x88, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00,
	0xcb, 0x00, 0x00, 0x00, 0xc8, 0x00, 0x00, 0x00, 0xca, 0x00, 0x00, 0x00, 0x85, 0x00, 0x05, 0x00,
	0x06, 0x00, 0x00, 0x00, 0xcc, 0x00, 0x00, 0x00, 0xcb, 0x00, 0x00, 0x00, 0xc4, 0x00, 0x00, 0x00,
	0x83, 0x00, 0x05, 0x00, 0x06, 0x00, 0x00, 0x00, 0xcd, 0x00, 0x00, 0x00, 0xcc, 0x00, 0x00, 0x00,
	0x48, 0x00, 0x00, 0x00, 0x41, 0x00, 0x06, 0x00, 0x28, 0x00, 0x00, 0x00, 0xce, 0x00, 0x00, 0x00,
	0x0a, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x65, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0xcf, 0x00, 0x00, 0x00, 0xce, 0x00, 0x00, 0x00, 0x50, 0x00, 0x07, 0x00,
	0x07, 0x00, 0x00, 0x00, 0xd0, 0x00, 0x00, 0x00, 0xc6, 0x00, 0x00, 0x00, 0xcd, 0x00, 0x00, 0x00,
	0xcf, 0x00, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00, 0x41, 0x00, 0x05, 0x00, 0x77, 0x00, 0x00, 0x00,
	0xd1, 0x00, 0x00, 0x00, 0xbe, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00,
	0xd1, 0x00, 0x00, 0x00, 0xd0, 0x00, 0x00, 0x00, 0xfd, 0x00, 0x01, 0x00, 0x38, 0x00, 0x01, 0x00
};
const static unsigned int shaders_default_vert_spv_len = 5792;

// Fragment Shader
const static uint8_t shaders_default_frag_spv[] = {
	0x03, 0x02, 0x23, 0x07, 0x00, 0x00, 0x01, 0x00, 0x0b, 0x00, 0x0d, 0x00, 0x24, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x11, 0x00, 0x02, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0b, 0x00, 0x06, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x47, 0x4c, 0x53, 0x4c, 0x2e, 0x73, 0x74, 0x64, 0x2e, 0x34, 0x35, 0x30,
	0x00, 0x00, 0x00, 0x00, 0x0e, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x0f, 0x00, 0x09, 0x00, 0x04, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x6d, 0x61, 0x69, 0x6e,
	0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x13, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x00, 0x00, 0x10, 0x00, 0x03, 0x00, 0x04, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00,
	0x03, 0x00, 0x03, 0x00, 0x02, 0x00, 0x00, 0x00, 0xc2, 0x01, 0x00, 0x00, 0x04, 0x00, 0x0a, 0x00,
	0x47, 0x4c, 0x5f, 0x47, 0x4f, 0x4f, 0x47, 0x4c, 0x45, 0x5f, 0x63, 0x70, 0x70, 0x5f, 0x73, 0x74,
	0x79, 0x6c, 0x65, 0x5f, 0x6c, 0x69, 0x6e, 0x65, 0x5f, 0x64, 0x69, 0x72, 0x65, 0x63, 0x74, 0x69,
	0x76, 0x65, 0x00, 0x00, 0x04, 0x00, 0x08, 0x00, 0x47, 0x4c, 0x5f, 0x47, 0x4f, 0x4f, 0x47, 0x4c,
	0x45, 0x5f, 0x69, 0x6e, 0x63, 0x6c, 0x75, 0x64, 0x65, 0x5f, 0x64, 0x69, 0x72, 0x65, 0x63, 0x74,
	0x69, 0x76, 0x65, 0x00, 0x05, 0x00, 0x04, 0x00, 0x04, 0x00, 0x00, 0x00, 0x6d, 0x61, 0x69, 0x6e,
	0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00, 0x08, 0x00, 0x00, 0x00, 0x69, 0x6e, 0x54, 0x79,
	0x70, 0x65, 0x00, 0x00, 0x05, 0x00, 0x03, 0x00, 0x11, 0x00, 0x00, 0x00, 0x75, 0x76, 0x00, 0x00,
	0x05, 0x00, 0x04, 0x00, 0x13, 0x00, 0x00, 0x00, 0x69, 0x6e, 0x55, 0x56, 0x00, 0x00, 0x00, 0x00,
	0x05, 0x00, 0x06, 0x00, 0x20, 0x00, 0x00, 0x00, 0x6f, 0x75, 0x74, 0x46, 0x72, 0x61, 0x67, 0x43,
	0x6f, 0x6c, 0x6f, 0x72, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x04, 0x00, 0x22, 0x00, 0x00, 0x00,
	0x69, 0x6e, 0x43, 0x6f, 0x6c, 0x6f, 0x72, 0x00, 0x47, 0x00, 0x03, 0x00, 0x08, 0x00, 0x00, 0x00,
	0x0e, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00, 0x08, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00, 0x13, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00, 0x20, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x47, 0x00, 0x04, 0x00, 0x22, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x13, 0x00, 0x02, 0x00, 0x02, 0x00, 0x00, 0x00, 0x21, 0x00, 0x03, 0x00,
	0x03, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x16, 0x00, 0x03, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x20, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00, 0x07, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x07, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00,
	0x00, 0x00, 0xc0, 0x3f, 0x14, 0x00, 0x02, 0x00, 0x0b, 0x00, 0x00, 0x00, 0x17, 0x00, 0x04, 0x00,
	0x0f, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00,
	0x10, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00,
	0x12, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00,
	0x12, 0x00, 0x00, 0x00, 0x13, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x2b, 0x00, 0x04, 0x00,
	0x06, 0x00, 0x00, 0x00, 0x15, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x17, 0x00, 0x04, 0x00,
	0x1e, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00,
	0x1f, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00,
	0x1f, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x20, 0x00, 0x04, 0x00,
	0x21, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00,
	0x21, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x36, 0x00, 0x05, 0x00,
	0x02, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00,
	0xf8, 0x00, 0x02, 0x00, 0x05, 0x00, 0x00, 0x00, 0x3b, 0x00, 0x04, 0x00, 0x10, 0x00, 0x00, 0x00,
	0x11, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x06, 0x00, 0x00, 0x00,
	0x09, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0xba, 0x00, 0x05, 0x00, 0x0b, 0x00, 0x00, 0x00,
	0x0c, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00, 0xf7, 0x00, 0x03, 0x00,
	0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00, 0x0c, 0x00, 0x00, 0x00,
	0x0d, 0x00, 0x00, 0x00, 0x0e, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x0d, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00, 0x13, 0x00, 0x00, 0x00,
	0x50, 0x00, 0x05, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x16, 0x00, 0x00, 0x00, 0x15, 0x00, 0x00, 0x00,
	0x15, 0x00, 0x00, 0x00, 0x83, 0x00, 0x05, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x17, 0x00, 0x00, 0x00,
	0x14, 0x00, 0x00, 0x00, 0x16, 0x00, 0x00, 0x00, 0x3e, 0x00, 0x03, 0x00, 0x11, 0x00, 0x00, 0x00,
	0x17, 0x00, 0x00, 0x00, 0x3d, 0x00, 0x04, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00,
	0x11, 0x00, 0x00, 0x00, 0x0c, 0x00, 0x06, 0x00, 0x06, 0x00, 0x00, 0x00, 0x19, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00, 0x42, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0xba, 0x00, 0x05, 0x00,
	0x0b, 0x00, 0x00, 0x00, 0x1a, 0x00, 0x00, 0x00, 0x19, 0x00, 0x00, 0x00, 0x15, 0x00, 0x00, 0x00,
	0xf7, 0x00, 0x03, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfa, 0x00, 0x04, 0x00,
	0x1a, 0x00, 0x00, 0x00, 0x1b, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00,
	0x1b, 0x00, 0x00, 0x00, 0xfc, 0x00, 0x01, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x1c, 0x00, 0x00, 0x00,
	0xf9, 0x00, 0x02, 0x00, 0x0e, 0x00, 0x00, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x0e, 0x00, 0x00, 0x00,
	0x3d, 0x00, 0x04, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00,
	0x3e, 0x00, 0x03, 0x00, 0x20, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0xfd, 0x00, 0x01, 0x00,
	0x38, 0x00, 0x01, 0x00
};
const static unsigned int shaders_default_frag_spv_len = 964;

// --- Helper Functions ---

// LOGS
static void
sgl_LogOutputFunction(void* userdata, int category, SDL_LogPriority priority, const char* message) {
	const char* color = "\033[0m";
	const char* reset = "\033[0m";
	const char* tag = "[INFO]";
	FILE* stream = stdout;

	switch (priority) {
	case SDL_LOG_PRIORITY_VERBOSE:
		tag = "[VERB]";
		color = "\033[90m";
		break; // Gray
	case SDL_LOG_PRIORITY_DEBUG:
		tag = "[DBUG]";
		color = "\033[36m";
		break; // Cyan
	case SDL_LOG_PRIORITY_INFO:
		tag = "[INFO]";
		color = "\033[32m";
		break; // Green
	case SDL_LOG_PRIORITY_WARN:
		tag = "[WARN]";
		color = "\033[33m";
		break; // Yellow
	case SDL_LOG_PRIORITY_ERROR:
		tag = "[ERR ]";
		color = "\033[31m";
		stream = stderr;
		break; // Red
	case SDL_LOG_PRIORITY_CRITICAL:
		tag = "[CRIT]";
		color = "\033[41;37m";
		stream = stderr;
		break; // White on Red Bg
	default:
		break;
	}

	// Format: [TAG] SGL: Message
	if (category == SGL_LOG_CATEGORY) {
		fprintf(stream, "%s%s SGL: %s%s\n", color, tag, message, reset);
	} else {
		// If other parts of SDL log something, print it cleanly too
		fprintf(stream, "%s%s %s%s\n", color, tag, message, reset);
	}
}

static void sgl_SetViewport(SDL_GPURenderPass* pass) {
	SDL_GPUViewport viewport = { 0, 0, (f32)sgl.winW, (f32)sgl.winH, 0.0f, 1.0f };
	SDL_SetGPUViewport(pass, &viewport);
	SDL_Rect scissor = { 0, 0, sgl.winW, sgl.winH };
	SDL_SetGPUScissor(pass, &scissor);
}

static void sgl_CheckResize(void) {
	int w, h;
	SDL_GetWindowSize(sgl.window, &w, &h);

	if (sgl.depthTexture == NULL || w != sgl.winW || h != sgl.winH) {
		sgl.winW = w;
		sgl.winH = h;

		if (sgl.depthTexture) {
			SDL_ReleaseGPUTexture(sgl.device, sgl.depthTexture);
		}

		SDL_GPUTextureCreateInfo depthInfo = {
			.type = SDL_GPU_TEXTURETYPE_2D,
			.format = SDL_GPU_TEXTUREFORMAT_D16_UNORM,
			.width = (uint32_t)w,
			.height = (uint32_t)h,
			.layer_count_or_depth = 1,
			.num_levels = 1,
			.usage = SDL_GPU_TEXTUREUSAGE_DEPTH_STENCIL_TARGET,
		};
		sgl.depthTexture = SDL_CreateGPUTexture(sgl.device, &depthInfo);
	}
}

static SDL_GPUShader* sgl_CreateShaderFromBytes(
	const uint8_t* code,
	size_t size,
	SDL_GPUShaderStage stage,
	int num_uniform,
	int num_storage
) {
	SDL_GPUShaderCreateInfo shaderInfo = {
		.code_size = size,
		.code = code,
		.entrypoint = "main",
		.format = SDL_GPU_SHADERFORMAT_SPIRV,
		.stage = stage,
		.num_samplers = 0,
		.num_storage_textures = 0,
		.num_storage_buffers = (Uint32)num_storage,
		.num_uniform_buffers = (Uint32)num_uniform,
	};

	return SDL_CreateGPUShader(sgl.device, &shaderInfo);
}

static void sgl_PushInstance(
	f32 x,
	f32 y,
	f32 w,
	f32 h,
	f32 angle,
	f32 ox,
	f32 oy,
	f32 z,
	int type,
	SGL_COLOR color
) {
	if (sgl.instanceCount >= SGL_MAX_INSTANCES)
		return;

	sgl.mappedPtr[sgl.instanceCount++] = (SGL_InstanceData){
		.x = x,
		.y = y,
		.w = w,
		.h = h,
		.angle = angle,
		.ox = ox,
		.oy = oy,
		.z = z,
		.type = (f32)type, // Set the type, use the enum things for reference
		.p1 = 0,
		.p2 = 0,
		.p3 = 0,
		.r = color.r / 255.0f,
		.g = color.g / 255.0f,
		.b = color.b / 255.0f,
		.a = color.a / 255.0f,
	};
	// vec4 params2; // w=type, padding1, padding2, padding3
}

// --- Shader API ---

SDL_GPUShader*
sgl_LoadShader(const char* filename, SDL_GPUShaderStage stage, int num_uniform, int num_storage) {
	size_t codeSize;
	void* code = SDL_LoadFile(filename, &codeSize);
	if (!code) {
		SGL_Error("Shader file not found: %s", filename);
		return NULL;
	}

	SDL_GPUShaderCreateInfo shaderInfo = {
		.code_size = codeSize,
		.code = (const uint8_t*)code,
		.entrypoint = "main",
		.format = SDL_GPU_SHADERFORMAT_SPIRV,
		.stage = stage,
		.num_samplers = 0,
		.num_storage_textures = 0,
		.num_storage_buffers = (Uint32)num_storage,
		.num_uniform_buffers = (Uint32)num_uniform,
	};

	SDL_GPUShader* shader = SDL_CreateGPUShader(sgl.device, &shaderInfo);
	SDL_free(code);

	if (shader) {
		SGL_Log(
			"Loaded Shader '%s' [Stage: %d | Uniforms: %d | Storage: %d]",
			filename,
			stage,
			num_uniform,
			num_storage
		);
	} else {
		SGL_Error("Failed to create shader from %s", filename);
	}

	return shader;
}

SDL_GPUGraphicsPipeline* sgl_CreatePipeline(SDL_GPUShader* vert, SDL_GPUShader* frag) {

	SDL_GPUColorTargetDescription targetDesc = {
		.format = SDL_GetGPUSwapchainTextureFormat(sgl.device, sgl.window),
		.blend_state = { 
      .enable_blend = true,
		  .src_color_blendfactor = SDL_GPU_BLENDFACTOR_SRC_ALPHA,
		  .dst_color_blendfactor = SDL_GPU_BLENDFACTOR_ONE_MINUS_SRC_ALPHA,
			.color_blend_op = SDL_GPU_BLENDOP_ADD,
			.src_alpha_blendfactor = SDL_GPU_BLENDFACTOR_SRC_ALPHA,
			.dst_alpha_blendfactor = SDL_GPU_BLENDFACTOR_ONE_MINUS_SRC_ALPHA,
			.alpha_blend_op = SDL_GPU_BLENDOP_ADD,
			.color_write_mask = 0xF,
    },
	};

	SDL_GPUGraphicsPipelineTargetInfo targetInfo = {
		.num_color_targets = 1,
		.color_target_descriptions = &targetDesc,
		.has_depth_stencil_target = true,
		.depth_stencil_format = SDL_GPU_TEXTUREFORMAT_D16_UNORM,
	};

	SDL_GPUDepthStencilState depthStencilState = {
		.enable_depth_test = true,
		.enable_depth_write = true,
		.compare_op = SDL_GPU_COMPAREOP_LESS_OR_EQUAL,
	};

	SDL_GPUGraphicsPipelineCreateInfo pipelineInfo = {
		.vertex_shader = vert,
		.fragment_shader = frag,
		.primitive_type = SDL_GPU_PRIMITIVETYPE_TRIANGLELIST,
		.depth_stencil_state = depthStencilState,
		.target_info = targetInfo,
	};

	return SDL_CreateGPUGraphicsPipeline(sgl.device, &pipelineInfo);
}

// --- Camera ---
void sgl_SetCamera(SGL_Camera* cam) {
	if (cam) {
		sgl.camera = *cam;
	} else {
		sgl.camera = (SGL_Camera){
			0.0f,
			1.0f,
		};
	}
}

void sgl_CameraInit(SGL_Camera* cam, f32 x, f32 y, f32 zoom) {
	cam->x = x;
	cam->y = y;
	cam->zoom = (zoom <= 0.0f) ? 1.0f : zoom;
}

void sgl_CameraUpdate(SGL_Camera* cam) {
	const bool* key = SDL_GetKeyboardState(NULL);
	float speed = 5.0f;

	if (key[SDL_SCANCODE_LSHIFT])
		speed += 3.0f;
	if (key[SDL_SCANCODE_W])
		cam->y += speed;
	if (key[SDL_SCANCODE_A])
		cam->x -= speed;
	if (key[SDL_SCANCODE_S])
		cam->y -= speed;
	if (key[SDL_SCANCODE_D])
		cam->x += speed;
	if (key[SDL_SCANCODE_Q])
		cam->zoom -= 0.05f;
	if (key[SDL_SCANCODE_E])
		cam->zoom += 0.05f;

	if (cam->zoom < 0.1f)
		cam->zoom = 0.1f;
}

// --- Init/Shutdown ---

bool sgl_InternalInit(SDL_Window* window, SDL_GPUDevice* device) {
	sgl.device = device;
	sgl.window = window;

	// Check and Log Backend
	const char* backend = SDL_GetGPUDeviceDriver(sgl.device);
	SGL_Log("SGL Initialized. Graphics Backend: %s", backend);

	SDL_ClaimWindowForGPUDevice(device, window);
	SDL_GetWindowSize(window, &sgl.winW, &sgl.winH);

	SDL_GPUBufferCreateInfo bInfo = { .usage = SDL_GPU_BUFFERUSAGE_GRAPHICS_STORAGE_READ,
									  .size = SGL_MAX_INSTANCES * sizeof(SGL_InstanceData) };
	sgl.instanceBuffer = SDL_CreateGPUBuffer(device, &bInfo);

	SDL_GPUTransferBufferCreateInfo tInfo = {
		.usage = SDL_GPU_TRANSFERBUFFERUSAGE_UPLOAD,
		.size = SGL_MAX_INSTANCES * sizeof(SGL_InstanceData),
	};
	sgl.transferBuffer = SDL_CreateGPUTransferBuffer(device, &tInfo);

	// LOAD DEFAULT SHADERS
	SGL_Log("Load Default Shaders");
	SDL_GPUShader* v = sgl_CreateShaderFromBytes(
		shaders_default_vert_spv,
		sizeof(shaders_default_vert_spv),
		SDL_GPU_SHADERSTAGE_VERTEX,
		1,
		1
	);

	SDL_GPUShader* f = sgl_CreateShaderFromBytes(
		shaders_default_frag_spv,
		sizeof(shaders_default_frag_spv),
		SDL_GPU_SHADERSTAGE_FRAGMENT,
		0,
		0
	);

	if (v && f) {
		sgl.defaultPipeline = sgl_CreatePipeline(v, f);
		sgl.activePipeline = sgl.defaultPipeline;
		SDL_ReleaseGPUShader(device, v);
		SDL_ReleaseGPUShader(device, f);
	} else {
		SGL_Error("Failed to load embedded default shaders.");
		return false;
	}

	return true;
}

void sgl_InitWindow(int w, int h, const char* title) {

	SDL_SetLogOutputFunction(sgl_LogOutputFunction, NULL);

	SDL_SetLogPriority(SGL_LOG_CATEGORY, SDL_LOG_PRIORITY_INFO);

	SDL_Init(SDL_INIT_VIDEO);
	SDL_Window* win = SDL_CreateWindow(title, w, h, SDL_WINDOW_RESIZABLE);

	// Initialize GPU with standard SPIR-V format support, this makes SDL3
	// will be using Vulkan By default
	SDL_GPUDevice* dev = SDL_CreateGPUDevice(SDL_GPU_SHADERFORMAT_SPIRV, true, NULL);

	sgl_InternalInit(win, dev);
}

void sgl_Shutdown() {
	if (sgl.instanceBuffer)
		SDL_ReleaseGPUBuffer(sgl.device, sgl.instanceBuffer);
	if (sgl.transferBuffer)
		SDL_ReleaseGPUTransferBuffer(sgl.device, sgl.transferBuffer);
	if (sgl.defaultPipeline)
		SDL_ReleaseGPUGraphicsPipeline(sgl.device, sgl.defaultPipeline);

	if (sgl.depthTexture) {
		SGL_Warn("Depth texture was not cleaned up manually (Fixed automatically).");
		SDL_ReleaseGPUTexture(sgl.device, sgl.depthTexture);
		sgl.depthTexture = NULL;
	}

	SDL_DestroyGPUDevice(sgl.device);
	SDL_DestroyWindow(sgl.window);
	SDL_Quit();
	SGL_Log("Shutdowning gracefully..");
}

// --- Pipeline Switching ---

void sgl_SetPipeline(SDL_GPUGraphicsPipeline* pipeline) {
	sgl.activePipeline = pipeline ? pipeline : sgl.defaultPipeline;
}

SDL_GPUGraphicsPipeline* sgl_GetDefaultPipeline(void) { return sgl.defaultPipeline; }

// --- Drawing ---

void sgl_Begin() {
	sgl.curCmd = SDL_AcquireGPUCommandBuffer(sgl.device);
	sgl.instanceCount = 0;
	SDL_GetWindowSize(sgl.window, &sgl.winW, &sgl.winH);
	sgl.mappedPtr =
		(SGL_InstanceData*)SDL_MapGPUTransferBuffer(sgl.device, sgl.transferBuffer, true);
}

// Draw Shapes
void sgl_DrawRectangle(f32 x, f32 y, f32 w, f32 h, SGL_COLOR color) {
	sgl_PushInstance(x, y, w, h, 0, 0, 0, 0, SGL_SHAPE_RECT, color);
}

void sgl_DrawRectanglePro(Rectangle rec, Vec2 origin, f32 rotation, SGL_COLOR color) {
	sgl_PushInstance(
		rec.x,
		rec.y,
		rec.w,
		rec.h,
		rotation,
		origin.x,
		origin.y,
		0,
		SGL_SHAPE_RECT,
		color
	);
}

void sgl_DrawTriangle(f32 x, f32 y, f32 size, SGL_COLOR color) {
	sgl_PushInstance(x, y, size, size, 0, size / 2, size / 2, 0, SGL_SHAPE_TRIG, color);
}

void sgl_DrawCircle(f32 x, f32 y, f32 radius, SGL_COLOR color) {
	f32 diameter = radius * 2.0f;
	sgl_PushInstance(
		x - radius,
		y - radius,
		diameter,
		diameter,
		0,
		0,
		0,
		0,
		SGL_SHAPE_CIRCLE,
		color
	);
}

void sgl_End() {
	SDL_UnmapGPUTransferBuffer(sgl.device, sgl.transferBuffer);

	SDL_GPUTransferBufferLocation src = { .transfer_buffer = sgl.transferBuffer, .offset = 0 };
	SDL_GPUBufferRegion dst = { .buffer = sgl.instanceBuffer,
								.offset = 0,
								.size = (Uint32)(sgl.instanceCount * sizeof(SGL_InstanceData)) };

	SDL_GPUCopyPass* copy = SDL_BeginGPUCopyPass(sgl.curCmd);
	SDL_UploadToGPUBuffer(copy, &src, &dst, true);
	SDL_EndGPUCopyPass(copy);

	sgl_CheckResize();

	SDL_GPUTexture* swapTexture;
	SDL_WaitAndAcquireGPUSwapchainTexture(sgl.curCmd, sgl.window, &swapTexture, NULL, NULL);

	if (swapTexture && sgl.depthTexture) {
		if (sgl.activePipeline == NULL) {
			SGL_Error("Attempting to draw with NULL pipeline!");
			return;
		}

		SDL_GPUColorTargetInfo colorTargetInfo = {
			.texture = swapTexture,
			.clear_color = { 0, 0, 0, 1 },
			.load_op = SDL_GPU_LOADOP_CLEAR,
			.store_op = SDL_GPU_STOREOP_STORE,
		};

		SDL_GPUDepthStencilTargetInfo depthTargetInfo = {
			.texture = sgl.depthTexture,
			.clear_depth = 1.0f,
			.load_op = SDL_GPU_LOADOP_CLEAR,
			.store_op = SDL_GPU_STOREOP_DONT_CARE,
			.stencil_load_op = SDL_GPU_LOADOP_DONT_CARE,
			.stencil_store_op = SDL_GPU_STOREOP_DONT_CARE,
			.cycle = true,
		};

		SDL_GPURenderPass* pass =
			SDL_BeginGPURenderPass(sgl.curCmd, &colorTargetInfo, 1, &depthTargetInfo);

		SDL_BindGPUGraphicsPipeline(pass, sgl.activePipeline);
		sgl_SetViewport(pass);

		// Upload Uniforms (Screen Size)
		struct {
			f32 screenW, screenH;
			f32 camX, camY;
			f32 zoom, padding;
		} uni = {
			.screenW = (f32)sgl.winW,
			.screenH = (f32)sgl.winH,
			.camX = sgl.camera.x,
			.camY = sgl.camera.y,
			.zoom = sgl.camera.zoom,
		};
		SDL_PushGPUVertexUniformData(sgl.curCmd, 0, &uni, sizeof(uni));

		// Bind Storage Buffer (Instance Data)
		SDL_GPUBuffer* bufs[] = {
			sgl.instanceBuffer,
		};
		SDL_BindGPUVertexStorageBuffers(pass, 0, bufs, 1);

		SDL_DrawGPUPrimitives(pass, 6, sgl.instanceCount, 0, 0);
		SDL_EndGPURenderPass(pass);
	}

	SDL_SubmitGPUCommandBuffer(sgl.curCmd);
}

#endif // SGL_IMPLEMENTATIONendif
